<!DOCTYPE html>
<html lang="he">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mishkan – ושכנתי בתוכם</title>
<style>
body {
    margin: 0;
    background: #000;
    color: #d4c27a;
    font-family: "Arial Hebrew", "Noto Sans Hebrew", sans-serif;
    overflow: hidden;
}

.container {
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
}

.text-grid {
    width: 90%;
    max-width: 1100px;
    line-height: 2.2;
    font-size: 28px;
    text-align: center;
}

.line {
  color: #f5d76e;              /* warm gold */
  opacity: 0.35;               /* brighter base */
  font-weight: 500;
  letter-spacing: 0.5px;
  text-shadow:
    0 0 4px rgba(255, 215, 100, 0.25),
    0 0 8px rgba(255, 215, 100, 0.15);
  transition: opacity 1.2s ease, color 1.2s ease;
}
.line {
  color: #f8e7a0;   /* brighter luminous gold */
  opacity: 0.55;    /* much more visible */
  font-weight: 600;
  letter-spacing: 0.6px;

  text-shadow:
    0 0 6px rgba(255, 215, 120, 0.45),
    0 0 14px rgba(255, 215, 120, 0.30),
    0 0 22px rgba(255, 215, 120, 0.20);

  transition: opacity 1.2s ease, color 1.2s ease;
}}

.glow {
    animation: glowPulse 3s infinite ease-in-out;
}

@keyframes glowPulse {
    0% { text-shadow: 0 0 5px rgba(255,215,0,0.2); }
    50% { text-shadow: 0 0 25px rgba(255,215,0,0.9); }
    100% { text-shadow: 0 0 5px rgba(255,215,0,0.2); }
}

.mishkan-light {
    position: absolute;
    width: 4px;
    height: 60%;
    background: linear-gradient(to top, transparent, gold, transparent);
    animation: verticalPulse 4s infinite ease-in-out;
    opacity: 0.7;
}

@keyframes verticalPulse {
    0% { opacity: 0.2; transform: scaleY(0.8); }
    50% { opacity: 1; transform: scaleY(1.05); }
    100% { opacity: 0.2; transform: scaleY(0.8); }
}

.controls {
    position: absolute;
    bottom: 20px;
    text-align: center;
    width: 100%;
}

button {
    background: gold;
    border: none;
    padding: 10px 16px;
    margin: 5px;
    font-size: 14px;
    cursor: pointer;
    border-radius: 4px;
}

button:hover {
    background: #ffd700cc;
}
</style>
</head>
<body>

<div class="container">
    <div class="mishkan-light"></div>
    <div class="text-grid" id="textGrid"></div>
</div>

<div class="controls">
    <button onclick="modePulse()">Pulse Mode</button>
    <button onclick="modeGlow()">Dwelling Mode</button>
    <button onclick="mode85Hz()">85 Hz Stabilize</button>
    <button onclick="modeStill()">Still</button>
</div>

<script>
const verse = "עָשׂוּ לִי מִקְדָּשׁ וְשָׁכַנְתִּי בְּתוֹכָם";
const grid = document.getElementById("textGrid");

for (let i = 0; i < 14; i++) {
    const line = document.createElement("div");
    line.className = "line";
    line.textContent = verse;
    grid.appendChild(line);
}

let interval;
let index = 0;
const lines = document.querySelectorAll(".line");

function clearModes() {
    clearInterval(interval);
    lines.forEach(l => {
        l.classList.remove("active");
        l.classList.remove("glow");
        l.style.opacity = 0.25;
    });
}

/* 85 Hz-inspired modulation */
function mode85Hz() {
    clearModes();

    let phase = 0;

    interval = setInterval(() => {
        phase += 0.15;

        lines.forEach((l, i) => {
            const wave = 0.35 + 0.25 * Math.sin(phase + i * 0.4);
            l.style.opacity = wave;
            l.style.color = `rgba(255,215,0,${0.4 + wave})`;
        });

    }, 12); // ~85 cycles per second
}

/* Slow ceremonial pulse */
function modePulse() {
    clearModes();
    interval = setInterval(() => {
        lines.forEach(l => l.classList.remove("active"));
        lines[index].classList.add("active");
        index = (index + 1) % lines.length;
    }, 2000);
}

/* Dwelling glow */
function modeGlow() {
    clearModes();
    lines.forEach(l => l.classList.add("glow"));
}

/* Still */
function modeStill() {
    clearModes();
}
</script>
</body>
</html>
